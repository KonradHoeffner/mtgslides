<!doctype html>
<html lang="de">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Magic: the Gathering Slide Generator</title>
	<link rel="stylesheet" href="css/screen.css">
</head>
<body>

<form method="GET" action="slideshow.html">
  <textarea id="cardNames" name="cardNames" rows="25" cols="100"></textarea>
  <button type="submit" name="source" value="conglomerate">Start Slideshow</button>
  <input type="button" value="Hanna Example" onclick="exampleSlides()"/>
  <input type="button" value="Muldrotha Example" onclick="exampleSlidesMuldrotha()"/>	
  <input type="file" value="Upload Cardnames" id="upload"/>
  <input type="button" value="Clear" onclick='document.getElementById("cardNames").value="";'/>
</form>

<script>
function exampleSlides()
{
 document.getElementById("cardNames").value=
`# Paradox Hanna High Power EDH Deck
Hanna, Ship's Navigator
Hanna, Ship's Navigator|Paradox Engine|Isochron Scepter
#Paradox Engine|Power Artifact|Transmute Artifact|Memory Jar|Timetwister
# Combo
## Isochron Scepter
Isochron Scepter|Dramatic Reversal|Sol Ring
Isochron Scepter|Dramatic Reversal|Sol Ring|Sensei's Divining Top
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond
#Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Mind's Desire
#Isochron Scepter|Dramatic Reversal|Sol Ring|Aetherflux Reservoir
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Copy Artifact|Brainstorm
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Copy Artifact|Mana Drain|Counterspell
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Copy Artifact|Arcane Denial
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Copy Artifact|Swan Song|Ponder
Isochron Scepter|Dramatic Reversal|Sol Ring|Mox Diamond|Hanna Ship's Navigator|Aether Spellbomb|Phyrexian Furnace|Mind Stone

Paradox Engine|Sol Ring|Isochron Scepter|Brainstorm
Paradox Engine|Sol Ring|Mox Diamond|Isochron Scepter|Tithe
Paradox Engine|Sensei's Divining Top|Voltaic Key|Sol Ring
Paradox Engine|Sensei's Divining Top|Scroll Rack|Sol Ring|Mox Diamond
Paradox Engine|Hanna Ship's Navigator|Gilded Lotus|Sol Ring|Aether Spellbomb|Phyrexian Furnace
Paradox Engine|Hanna Ship's Navigator|Gilded Lotus|Basalt Monolith|Mind Stone

Braingeyser|Stroke of Genius|Aetherflux Reservoir

Basalt Monolith|Grim Monolith|Power Artifact|Stroke of Genius|Braingeyser
Sensei's Divining Top|Future Sight|Helm of Awakening 
Opalescence|Parallax Wave|Parallax Tide
High Tide|Time Spiral|Frantic Search|Treachery

# Lands
Tundra|Hallowed Fountain|Flooded Strand|Windswept Heath|Polluted Delta|Command Tower|Island|Plains|Academy Ruins|Inventor's Fair
Ancient Tomb|Mystic Gate|Adarkar Wastes|Glacial Fortress|Port Town|Nimbus Maze
Ancient Tomb|Mystic Gate|Arid Mesa|Scalding Tarn|Misty Rainforest|Marsh Flats

#Ramp and Mana Fixing
Sol Ring|Mox Diamond|Mind Stone|Sky Diamond|Gilded Lotus|Lotus Petal|Grim Monolith|Basalt Monolith|Land Tax|Tithe
#Card Selection
Ponder|Brainstorm|Preordain|Sensei's Divining Top|Scroll Rack
#Card Draw
## Permanent
Mystic Remora|Rhystic Study|Future Sight
## One Time
Fact or Fiction|Dig Through Time||Timetwister|Windfall|Time Spiral|Memory Jar|Stroke of Genius|Braingeyser

# Interaction
## Counterspells
Force of Will|Misdirection|Mana Drain|Counterspell|Arcane Denial|Spell Pierce|Swan Song|Decree of Silence
## Removal 
Wrath of God|Terminus|Swords to Plowshares|Parallax Wave|Treachery|Aura of Silence|Detention Sphere

# Recursion
Hanna, Ship's Navigator|Academy Ruins|Sun Titan|Open the Vaults|Replenish

# Tutors
Enlightened Tutor|Mystical Tutor|Intuition|Inventor's Fair|Trinket Mage|Tezzeret the Seeker

# Good Stuff
Lightning Greaves|Ensnaring Bridge|Propaganda|Wurmcoil Engine|Bribery
`
}

function exampleSlidesMuldrotha()
{
 document.getElementById("cardNames").value=
`# Muldrotha, the Gravetide

# Lands
# 9
Underground Sea|Tropical Island|Bayou|Watery Grave|Breeding Pool|Overgrown Tomb|Command Tower|City of Brass|Mana Confluence
# 9 -> 18
Bloodstained Mire|Flooded Strand|Marsh Flats|Misty Rainforest|Polluted Delta|Verdant Catacombs|Windswept Heath|Wooded Foothills|
# 9 -> 27
Island|Island|Island|Forest|Forest|Forest|Swamp|Swamp|Urborg, Tomb of Yawgmoth
# 5 -> 32
Cavern of Souls|Command Beacon|Cephalid Coliseum|Strip Mine|Gaea's Cradle
# Alternativen
Hinterland Harbor|Drowned Catacomb|Woodland Cemetery|Morphic Pool|Reflecting Pool|Bazaar of Baghdad|Bojuka Bog|Scavenger Grounds|Phyrexian Tower

#Ramp and Mana Fixing
Sol Ring|Mana Crypt|Mana Vault|Mox Diamond|Lion's Eye Diamond
Birds of Paradise|Deathrite Shaman|Arbor Elf|Llanowar Elves|Fyndhorn Elves|Bloom Tender|Priest of Titania

#Cantrips
Ponder|Brainstorm|Preordain|Thought Scour|Mental Note

#Card Draw
## Permanent
Mystic Remora|Rhystic Study|Sylvan Library
## One Time
Fact or Fiction|Dig Through Time||Timetwister|Windfall|Time Spiral|Memory Jar|Stroke of Genius|Braingeyser

# Interaction
## Counterspells
Force of Will|Misdirection|Mana Drain|Counterspell|Arcane Denial|Spell Pierce|Swan Song|Decree of Silence
## Removal 
Wrath of God|Terminus|Swords to Plowshares|Parallax Wave|Treachery|Aura of Silence|Detention Sphere

# Recursion
Hanna, Ship's Navigator|Academy Ruins|Sun Titan|Open the Vaults|Replenish

# Tutors
Enlightened Tutor|Mystical Tutor|Intuition|Inventor's Fair|Trinket Mage|Tezzeret the Seeker

# Good Stuff
Lightning Greaves|Ensnaring Bridge|Propaganda|Wurmcoil Engine|Bribery
`
}
const uploadButton = document.getElementById("upload");
uploadButton.addEventListener("change",upload);

function upload()
{
 console.log("upload started");
 const files = uploadButton.files;
 if(files.length > 0)
 {
 console.log("file selected");
  const file = files[0];
  const reader = new FileReader();
  reader.addEventListener("load",()=>
  {
   console.log("loading file");
   const cardNames = document.getElementById("cardNames");
   cardNames.value = "";
   for(let line of reader.result.split("\n"))
   {
    line = line.trim();
    if(line.startsWith("#")||line.startsWith("//")) {continue;} // ignore comments
    console.log(line);
    // remove card multiplicities
    line = line.replace(/^[0-9]+/,"");
    cardNames.value+=line.trim()+"\n";
   }
  });
  reader.readAsText(file);
 }
}
</script>

<h3>Explanation</h3>
Each input line creates one slide that shows the given cards.
Multiple cards need to be separated by the "|" character.
<h3>Questions and Contributions</h3>
This is a quick hack developed <a href="https://github.com/konradhoeffner/mtgslides">on GitHub</a>. Feel free to contribute a pull request or to open an issue to report bugs, ask questions or propose additions.
</body>
</html>
